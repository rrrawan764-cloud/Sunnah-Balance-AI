<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ø³Ù†Ø© | Quran & Sunnah AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gold: #D4AF37; --deep-green: #064E3B; --bg-color: #f4f7f6;
            --card-bg: #ffffff; --text-color: #1F2937;
        }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg-color); margin: 0; color: var(--text-color); }
        header {
            background: linear-gradient(135deg, #064E3B 0%, #065F46 100%);
            color: white; padding: 60px 20px; text-align: center;
            border-bottom: 5px solid var(--primary-gold); box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        header h1 { font-family: 'Amiri', serif; font-size: 3rem; margin: 0; color: var(--primary-gold); }
        .container { max-width: 1100px; margin: -40px auto 50px; padding: 0 20px; display: grid; grid-template-columns: 1fr 350px; gap: 20px; }
        .main-content { background: var(--card-bg); border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .sidebar { background: var(--card-bg); border-radius: 20px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid var(--primary-gold); }
        .video-container { background: #000; border-radius: 15px; overflow: hidden; border: 2px solid var(--primary-gold); margin-bottom: 20px; }
        video { width: 100%; display: block; }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„ØªØµØ­ÙŠØ­ */
        .quran-section { background: #fffcf5; border-radius: 15px; padding: 20px; border: 1px solid var(--primary-gold); margin-top: 20px; }
        .btn-record { 
            background: var(--deep-green); color: white; border: none; padding: 10px 20px; 
            border-radius: 50px; cursor: pointer; font-weight: bold; width: 100%; transition: 0.3s;
        }
        .btn-record:hover { background: var(--primary-gold); }
        .status-badge { display: inline-block; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; margin-top: 10px; }
        .success { background: #dcfce7; color: #166534; }

        footer { background: var(--deep-green); color: white; padding: 30px; text-align: center; border-top: 5px solid var(--primary-gold); }
        .dev-badge { color: var(--primary-gold); text-decoration: none; font-weight: bold; font-size: 1.2rem; }

        @media (max-width: 768px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
        <h1>Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ø³Ù†Ø©</h1>
        <p>Ø¨Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ø·ÙˆØ±Ø© Ø±ÙˆØ§Ù† Ø§Ù„ØµØ¨Ø­ÙŠ - Ù…Ù†ØµØ© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</p>
    </header>

    <div class="container">
        <div class="main-content">
            <h2 style="color: var(--deep-green); border-bottom: 2px solid var(--primary-gold);"><i class="fas fa-microscope"></i> Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‡ÙŠØ¦Ø© ÙˆØ§Ù„Ø­Ø±ÙƒØ©</h2>
            <div class="video-container">
                <video controls>
                    <source src="demo.mp4" type="video/mp4">
                </video>
            </div>

            <div class="quran-section">
                <h3><i class="fas fa-microphone-alt"></i> Ø§Ù„ØªØµØ­ÙŠØ­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ØªÙ„Ø§ÙˆØ© (AI)</h3>
                <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± ÙˆØ§Ù‚Ø±Ø£ "Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©" Ù„ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„ØªØµØ­ÙŠØ­:</p>
                <button class="btn-record" id="startBtn" onclick="startRecognition()">
                    <i class="fas fa-play"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¢Ù†
                </button>
                <div id="resultText" style="margin-top: 15px; font-style: italic; color: #666;"></div>
                <div id="status" class="status-badge" style="display:none;"></div>
            </div>
        </div>

        <div class="sidebar">
            <h3 style="color: var(--deep-green);"><i class="fas fa-book-open"></i> Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø±Ù‚Ù…ÙŠ</h3>
            <select id="surahSelect" style="width: 100%; padding: 8px; border-radius: 5px; margin-bottom: 10px;" onchange="fetchAyahs()">
                <option value="1">Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</option>
                <option value="108">Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙˆØ«Ø±</option>
                <option value="112">Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ</option>
            </select>
            <div id="quranContent" style="font-family: 'Amiri', serif; font-size: 1.3rem; line-height: 2; text-align: justify; max-height: 500px; overflow-y: auto; padding: 10px; background: #fafafa; border-radius: 10px;">
                ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øª...
            </div>
        </div>
    </div>

    <footer>
        <div>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…Ø·ÙˆØ±Ø©:</div>
        <a href="#" class="dev-badge">Ø±ÙˆØ§Ù† Ø§Ù„ØµØ¨Ø­ÙŠ ğŸ’</a>
        <p>Ù…Ø´Ø±ÙˆØ¹ Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ø³Ù†Ø© - 2026</p>
    </footer>

    <script>
        // Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø¢ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù† Ù…Ù† API Ø®Ø§Ø±Ø¬ÙŠ
        async function fetchAyahs() {
            const surahId = document.getElementById('surahSelect').value;
            const content = document.getElementById('quranContent');
            content.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";
            try {
                const response = await fetch(`https://api.alquran.cloud/v1/surah/${surahId}`);
                const data = await response.json();
                let ayahs = data.data.ayahs.map(a => `<span style="color:var(--deep-green)">ï´¿${a.numberInSurah}ï´¾</span> ${a.text}`).join(' ');
                content.innerHTML = ayahs;
            } catch (e) { content.innerHTML = "ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©."; }
        }

        // Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ØªØµØ­ÙŠØ­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Web Speech API)
        function startRecognition() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'ar-SA';
            const btn = document.getElementById('startBtn');
            const res = document.getElementById('resultText');
            const status = document.getElementById('status');

            recognition.onstart = () => {
                btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹... Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¢Ù†";
                status.style.display = "none";
            };

            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                res.innerHTML = "Ø³Ù…Ø¹ØªÙƒ ØªÙ‚ÙˆÙ„: " + text;
                
                // Ù…Ù†Ø·Ù‚ Ø¨Ø³ÙŠØ· Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (Ù…Ø«Ø§Ù„ Ù„Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©)
                if(text.includes("Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡") || text.includes("Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†")) {
                    status.innerHTML = "ØªÙ„Ø§ÙˆØ© ØµØ­ÙŠØ­Ø© Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ âœ…";
                    status.className = "status-badge success";
                    status.style.display = "inline-block";
                } else {
                    status.innerHTML = "ÙŠÙˆØ¬Ø¯ Ø§Ø®ØªÙ„Ø§Ù ÙÙŠ Ø§Ù„ØªÙ„Ø§ÙˆØ©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ âš ï¸";
                    status.style.display = "inline-block";
                }
            };

            recognition.onspeechend = () => {
                recognition.stop();
                btn.innerHTML = '<i class="fas fa-play"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¢Ù†';
            };

            recognition.start();
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ØµØ­Ù Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
        window.onload = fetchAyahs;
    </script>
</body>
</html>
